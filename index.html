<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Master TVET/CDACC ICT Basic Electronics with ElectroLearn Pro: interactive lessons on number systems, circuits, semiconductors, and practice quizzes with instant feedback.">
  <meta name="keywords" content="TVET electronics, CDACC ICT, binary conversion, Ohm's law, two's complement, diode basics, NPN transistor, LED resistor calculator">
  <meta name="author" content="ElectroLearn Pro">
  <!-- Open Graph / Social -->
  <meta property="og:title" content="ElectroLearn Pro ‚Äî TVET CDACC Basic Electronics">
  <meta property="og:description" content="Interactive, exam-focused electronics training for TVET & CDACC students.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://basic-electronics.onrender.com/">
  <meta property="og:image" content="https://basic-electronics.onrender.com/images/electrolearn-og.png">
  <meta name="twitter:card" content="summary_large_image">
  <link rel="canonical" href="https://basic-electronics.onrender.com/" />

  <title>ElectroLearn ‚Äî TVET CDACC ICT Basic Electronics (Pro)</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- KaTeX -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --brand: #0d6efd;
      --muted: #6c757d;
      --success: #198754;
      --warning: #ffc107;
      --danger: #dc3545;
      --primary: #0d6efd;
      --secondary: #6c757d;
      --dark: #212529;
      --light: #f8f9fa;
      --futuristic-bg: #0a0e17;
      --futuristic-card: #131a2d;
      --futuristic-accent: #00d4ff;
      --futuristic-secondary: #7e57c2;
    }
    body {
      font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      padding-top: 88px;
      background-color: var(--futuristic-bg);
      color: #e9ecef;
      transition: all 0.3s ease;
    }
    .section {
      padding: 36px 0;
    }
    .diagram {
      max-width: 100%;
      height: auto;
      border-radius: 10px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      margin: 12px 0;
    }
    .card-slim {
      padding: 16px;
      background-color: var(--futuristic-card);
      border: 1px solid #343a40;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }
    .flashcard {
      height: 160px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.15rem;
      background: linear-gradient(135deg, var(--futuristic-card), #1a233a);
      border-radius: 12px;
      border: 1px solid var(--futuristic-accent);
      color: #ffffff !important;
      font-weight: 600;
    }
    .highlight {
      background: rgba(255, 193, 7, 0.15);
      padding: 12px;
      border-left: 4px solid var(--warning);
      border-radius: 6px;
      margin: 16px 0;
    }
    pre.solution {
      background: #1e2a3a;
      padding: 14px;
      border-radius: 8px;
      color: #ffffff !important;
      border-left: 4px solid var(--futuristic-accent);
      overflow-x: auto;
      font-size: 0.95rem;
      line-height: 1.5;
    }
    .key-points {
      background: rgba(13, 110, 253, 0.1);
      border-left: 3px solid var(--primary);
      padding: 12px;
      border-radius: 6px;
      margin-top: 12px;
    }
    .key-points summary {
      font-weight: bold;
      cursor: pointer;
      color: var(--futuristic-accent);
    }
    .no-print {
      display: block;
    }
    @media print {
      .no-print { display: none !important; }
      body { padding-top: 0; background: white; color: black; }
      h1, h2, h3, h4, h5, h6 { color: black !important; }
    }

    /* Gamification */
    .gamification-panel {
      position: fixed;
      top: 100px;
      right: 20px;
      width: 220px;
      background: var(--futuristic-card);
      border-radius: 12px;
      padding: 15px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
      z-index: 1000;
      border: 1px solid var(--futuristic-accent);
    }
    .progress-ring-circle {
      stroke: var(--futuristic-accent);
      fill: transparent;
      stroke-width: 8;
      stroke-linecap: round;
      transition: stroke-dashoffset 0.5s ease;
    }
    .xp-display, #decBin, #decHex, #decOct, #spResult, #ledResult, #bqAns, #gateOut {
      color: #ffffff !important;
      font-weight: 600;
    }
    .level-badge {
      background: linear-gradient(135deg, var(--futuristic-secondary), var(--futuristic-accent));
      color: white;
      padding: 4px 10px;
      border-radius: 20px;
      font-size: 0.9rem;
      font-weight: bold;
    }
    .quiz-card {
      background: var(--futuristic-card);
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
      border: 1px solid #343a40;
      transition: all 0.3s ease;
    }
    .quiz-option {
      background: #1e2a3a;
      border: 1px solid #343a40;
      border-radius: 8px;
      padding: 12px;
      margin-bottom: 10px;
      cursor: pointer;
      transition: all 0.2s ease;
      color: #e9ecef;
    }
    .quiz-option.correct { background: rgba(25, 135, 84, 0.3); border-color: var(--success); }
    .quiz-option.incorrect { background: rgba(220, 53, 69, 0.3); border-color: var(--danger); }

    .achievement-badge {
      display: inline-block;
      background: linear-gradient(135deg, var(--warning), #fd7e14);
      color: var(--dark);
      padding: 5px 10px;
      border-radius: 20px;
      font-size: 0.8rem;
      margin-right: 5px;
      margin-bottom: 5px;
    }
    .btn-primary {
      background: linear-gradient(135deg, var(--futuristic-secondary), var(--futuristic-accent));
      border: none;
    }
    .form-control {
      background-color: #1e2a3a;
      border: 1px solid #343a40;
      color: #e9ecef;
    }
    .form-control:focus {
      border-color: var(--futuristic-accent);
      box-shadow: 0 0 0 0.25rem rgba(0, 212, 255, 0.25);
    }

    /* Notification Toast Area */
    #notificationArea {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1060;
      width: 320px;
    }

    /* Theme toggle */
    .theme-toggle {
      background: transparent;
      border: none;
      color: rgba(255, 255, 255, 0.8);
      font-size: 1.2rem;
      cursor: pointer;
    }

    @media (max-width: 992px) {
      .gamification-panel { position: static; width: 100%; margin-bottom: 20px; }
      #notificationArea { width: auto; max-width: 90vw; }
    }
  </style>
</head>
<body>
  <!-- Notification Container -->
  <div id="notificationArea"></div>

  <nav class="navbar navbar-expand-lg fixed-top navbar-dark" style="background: var(--futuristic-card)">
    <div class="container">
      <a class="navbar-brand fw-bold" href="#"><i class="fas fa-bolt me-2"></i>ElectroLearn Pro</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="nav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="#numbers">Number Systems</a></li>
          <li class="nav-item"><a class="nav-link" href="#circuits">Circuits</a></li>
          <li class="nav-item"><a class="nav-link" href="#semiconductors">Semiconductors</a></li>
          <li class="nav-item"><a class="nav-link" href="#tools">Practice Tools</a></li>
          <li class="nav-item"><a class="nav-link" href="#quizzes">Quizzes</a></li>
          <li class="nav-item"><a class="nav-link" href="#revision">Revision Cards</a></li>
          <li class="nav-item">
            <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
              <i class="fas fa-moon"></i>
            </button>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Gamification Panel -->
  <div class="gamification-panel no-print">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h5 class="mb-0">Learning Progress</h5>
      <span class="level-badge">Level <span id="userLevel">1</span></span>
    </div>
    <div class="d-flex align-items-center mb-3">
      <div class="position-relative me-3">
        <svg class="progress-ring" width="80" height="80" viewBox="0 0 80 80">
          <circle class="progress-ring-circle" r="36" cx="40" cy="40"
            stroke-dasharray="226.194" stroke-dashoffset="226.194" id="progressCircle"></circle>
        </svg>
        <div class="position-absolute top-50 start-50 translate-middle text-center">
          <span class="xp-display" id="userXP">0</span>
          <div class="small">XP</div>
        </div>
      </div>
      <div>
        <div class="small">Next Level: <span id="nextLevelXP">100</span> XP</div>
        <div class="small">Quizzes: <span id="quizzesCompleted">0</span>/20</div>
      </div>
    </div>
    <div class="mb-3">
      <h6>Achievements</h6>
      <div id="achievementsList">
        <span class="achievement-badge" id="firstQuizBadge" style="display: none;">First Quiz</span>
        <span class="achievement-badge" id="halfwayBadge" style="display: none;">Halfway There</span>
        <span class="achievement-badge" id="perfectScoreBadge" style="display: none;">Perfect Score</span>
        <span class="achievement-badge" id="masterBadge" style="display: none;">Circuit Master</span>
      </div>
    </div>
    <div>
      <h6>Leaderboard</h6>
      <div class="leaderboard-item">
        <div class="d-flex align-items-center">
          <span class="leaderboard-position">1</span>
          <span class="ms-2">You</span>
        </div>
        <span id="leaderboardXP">0 XP</span>
      </div>
    </div>
  </div>

  <header class="text-center py-5 section" style="background: linear-gradient(135deg, var(--futuristic-card), #1a233a);">
    <div class="container">
      <h1 class="display-5"><i class="fas fa-bolt me-2"></i>ElectroLearn ‚Äî TVET CDACC ICT Basic Electronics (Pro)</h1>
      <p class="lead">Step-by-step lessons, exam-style worked solutions, interactive practice tools, and quick revision ‚Äî built for TVET/CDACC students and technicians.</p>
      <div class="no-print mt-3">
        <button class="btn btn-success me-2" id="printBtn"><i class="fas fa-print me-1"></i>Print / Save as PDF</button>
        <button class="btn btn-outline-light" id="toggleCompact"><i class="fas fa-compress me-1"></i>Toggle compact view</button>
      </div>
    </div>
  </header>

  <main class="container">
    <!-- Number Systems -->
    <section id="numbers" class="section">
      <div class="row">
        <div class="col-md-8">
          <h2><i class="fas fa-calculator me-2"></i>Number Systems ‚Äî Visual & step-by-step</h2>
          <img src="https://images.unsplash.com/photo-1648737102868-8f1f5d5e8b3d?auto=format&fit=crop&w=600&q=80" alt="Binary and hexadecimal notation on paper" class="diagram rounded">
          
          <details class="key-points">
            <summary>üîë Key Exam Points (click to hide)</summary>
            <ul>
              <li>Always show working steps for method marks</li>
              <li>Label MSB/LSB clearly in conversions</li>
              <li>Two's complement requires a fixed bit width (usually 8 or 16)</li>
            </ul>
          </details>

          <h4>Binary ‚Üí Decimal (Place-value method)</h4>
          <pre class="solution">(from MSB) 1¬∑2‚Å∂ + 1¬∑2‚Åµ + 0¬∑2‚Å¥ + 1¬∑2¬≥ + 0¬∑2¬≤ + 1¬∑2¬π + 1¬∑2‚Å∞ = 64 + 32 + 0 + 8 + 0 + 2 + 1 = 107</pre>

          <h4>Decimal ‚Üí Binary (Divide-by-2 method)</h4>
          <pre class="solution">173 √∑ 2 = 86 R1 (LSB)
86 √∑ 2 = 43 R0
43 √∑ 2 = 21 R1
21 √∑ 2 = 10 R1
10 √∑ 2 = 5 R0
5 √∑ 2 = 2 R1
2 √∑ 2 = 1 R0
1 √∑ 2 = 0 R1 (MSB)
‚Üí 10101101‚ÇÇ</pre>

          <h4>Two's Complement ‚Äî Exam Style</h4>
          <pre class="solution">-37 in 8-bit:
37 ‚Üí 00100101
Invert ‚Üí 11011010
Add 1 ‚Üí 11011011</pre>

          <details class="mt-2">
            <summary><strong>Show Full Worked Examples</strong></summary>
            <div class="mt-2">
              <p><strong>1)</strong> 364‚ÇÅ‚ÇÄ ‚Üí Hex = 16C, Binary = 101101100‚ÇÇ</p>
              <p><strong>2)</strong> -84 ‚Üí 10101100 (8-bit two's complement)</p>
              <p><strong>3)</strong> 11011101‚ÇÇ = 221‚ÇÅ‚ÇÄ = DD‚ÇÅ‚ÇÜ</p>
            </div>
          </details>
        </div>
        <div class="col-md-4">
          <div class="card card-slim">
            <h5>Quick Converter</h5>
            <label class="form-label small">Decimal</label>
            <input id="dec" class="form-control form-control-sm mb-2" type="number" value="173" min="0">
            <div class="d-grid gap-2">
              <button class="btn btn-primary btn-sm" id="decConvertBtn">Convert</button>
              <button class="btn btn-outline-secondary btn-sm" id="clearConverterBtn">Clear</button>
            </div>
            <div class="mt-2">
              <p class="mb-0"><strong>Binary:</strong> <span id="decBin">10101101</span></p>
              <p class="mb-0"><strong>Hex:</strong> <span id="decHex">AD</span></p>
              <p class="mb-0"><strong>Octal:</strong> <span id="decOct">255</span></p>
            </div>
          </div>
          <div class="card card-slim mt-3">
            <h5>Mini Flashcards</h5>
            <div id="flash" class="flashcard">Click Next</div>
            <button class="btn btn-sm btn-outline-light mt-2" id="nextCardBtn">Next</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Circuits -->
    <section id="circuits" class="section" style="background: linear-gradient(135deg, var(--futuristic-card), #1a233a);">
      <div class="row">
        <div class="col-md-7">
          <h2><i class="fas fa-project-diagram me-2"></i>Circuits: Ohm's Law, Series & Parallel</h2>
          <img src="https://images.unsplash.com/photo-1581091226033-d5c48150dbaa?auto=format&fit=crop&w=600&q=80" alt="Electronic circuit board with resistors" class="diagram rounded">
          
          <details class="key-points">
            <summary>üîë Key Rules (click to hide)</summary>
            <ul>
              <li>Series: R<sub>eq</sub> = R‚ÇÅ + R‚ÇÇ + ...</li>
              <li>Parallel: 1/R<sub>eq</sub> = 1/R‚ÇÅ + 1/R‚ÇÇ + ...</li>
              <li>Power: P = V¬∑I = I¬≤R = V¬≤/R</li>
            </ul>
          </details>

          <h4>Worked Example (Series-Parallel)</h4>
          <pre class="solution">R1=100Œ© in series with (R2=200Œ© || R3=300Œ©)
R2||R3 = (200√ó300)/(200+300) = 120Œ©
R<sub>eq</sub> = 100 + 120 = 220Œ©
With V=44V ‚Üí I = 44/220 = 0.2A, P = 8.8W</pre>
        </div>
        <div class="col-md-5">
          <div class="card card-slim">
            <label class="form-label small">Supply Voltage (V)</label>
            <input id="vSupply" class="form-control form-control-sm mb-2" value="44" step="0.1">
            <label class="form-label small">R1, R2, R3 (Œ©)</label>
            <input id="r1" class="form-control form-control-sm mb-1" value="100">
            <input id="r2" class="form-control form-control-sm mb-1" value="200">
            <input id="r3" class="form-control form-control-sm mb-1" value="300">
            <button class="btn btn-primary btn-sm mt-2" id="calcSeriesParallelBtn">Calculate</button>
            <div class="mt-2"><strong>Result:</strong> <span id="spResult">‚Äî</span></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Semiconductors -->
    <section id="semiconductors" class="section">
      <div class="row">
        <div class="col-md-8">
          <h2><i class="fas fa-microchip me-2"></i>Semiconductors & Diodes</h2>
          <img src="https://images.unsplash.com/photo-1632258234771-5a7b8f4c6e0f?auto=format&fit=crop&w=600&q=80" alt="Close-up of semiconductor chips and diodes" class="diagram rounded">
          
          <details class="key-points">
            <summary>üîë Diode Behavior (click to hide)</summary>
            <ul>
              <li>Forward bias: conducts at ~0.7V (Si)</li>
              <li>Reverse bias: tiny leakage current until breakdown</li>
              <li>Zener diodes: used in reverse for voltage regulation</li>
            </ul>
          </details>

          <h4>Transistor as a Switch</h4>
          <p>NPN transistor used as a low-side switch: base current controls collector-emitter path.</p>
        </div>
        <div class="col-md-4">
          <img src="https://www.electronics-tutorials.ws/wp-content/uploads/2018/05/diode-dc5.gif"
               class="diagram"
               alt="Diode I-V characteristic curve"
               onerror="this.src='https://images.unsplash.com/photo-1603899122386-c6c44192ce8c?auto=format&fit=crop&w=300&q=80'">
        </div>
      </div>
    </section>

    <!-- Tools -->
    <section id="tools" class="section" style="background: linear-gradient(135deg, var(--futuristic-card), #1a233a);">
      <h3><i class="fas fa-tools me-2"></i>Practice Tools</h3>
      <div class="row">
        <div class="col-md-6">
          <div class="card card-slim">
            <h6>LED Resistor Calculator</h6>
            <label class="form-label small">V<sub>supply</sub> (V)</label>
            <input id="ledVsup" class="form-control form-control-sm mb-1" value="5" step="0.1">
            <label class="form-label small">V<sub>f</sub> (V)</label>
            <input id="ledVf" class="form-control form-control-sm mb-1" value="2" step="0.1">
            <label class="form-label small">Current (mA)</label>
            <input id="ledIf" class="form-control form-control-sm mb-1" value="20" min="1">
            <button class="btn btn-primary btn-sm mt-2" id="calcLedBtn">Calculate R</button>
            <div class="mt-2"><strong>Result:</strong> <span id="ledResult">‚Äî</span></div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="card card-slim">
            <h6>Binary ‚Üí Decimal Checker</h6>
            <input id="bq" class="form-control form-control-sm mb-1" value="101101">
            <button class="btn btn-primary btn-sm" id="checkBinaryBtn">Check</button>
            <div class="mt-2"><strong>Decimal:</strong> <span id="bqAns">‚Äî</span></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Quizzes -->
    <section id="quizzes" class="section">
      <h2><i class="fas fa-tasks me-2"></i>Interactive Quizzes</h2>
      <div class="row" id="quizContainer">
        <!-- Dynamically populated -->
      </div>
    </section>

    <!-- Revision Cards -->
    <section id="revision" class="section" style="background: linear-gradient(135deg, var(--futuristic-card), #1a233a);">
      <h2><i class="fas fa-layer-group me-2"></i>Quick Reference</h2>
      <div class="row">
        <div class="col-md-4">
          <div class="card card-slim">
            <h6>Formulas</h6>
            <ul class="mb-0">
              <li>V = I¬∑R</li>
              <li>P = V¬∑I = I¬≤R</li>
              <li>R<sub>eq</sub> (||) = (R‚ÇÅ¬∑R‚ÇÇ)/(R‚ÇÅ+R‚ÇÇ)</li>
            </ul>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card card-slim">
            <h6>Binary Facts</h6>
            <ul class="mb-0">
              <li>8-bit: 0‚Äì255 (unsigned)</li>
              <li>Two‚Äôs complement: -128 to +127</li>
              <li>1 hex digit = 4 bits</li>
            </ul>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card card-slim">
            <h6>Exam Tips</h6>
            <ul class="mb-0">
              <li>Show all steps</li>
              <li>Include units</li>
              <li>State assumptions</li>
            </ul>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="py-4 mt-4" style="background: var(--futuristic-card);">
    <div class="container text-center text-muted">
      <small>¬© 2025 ElectroLearn Pro ‚Äî TVET/CDACC exam-ready materials.</small>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // === Math rendering ===
    document.addEventListener('DOMContentLoaded', () => {
      if (typeof renderMathInElement === 'function') {
        renderMathInElement(document.body, {
          delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "$", right: "$", display: false},
            {left: "\\(", right: "\\)", display: false},
            {left: "\\[", right: "\\]", display: true}
          ]
        });
      }
    });

    // === Quiz Data ===
    const quizData = [
      { id: 1, category: "Number Systems", question: "Convert 230‚ÇÅ‚ÇÄ to binary.", options: ["11100110", "11100111", "11101010", "11101100"], correct: 0, explanation: "230 √∑ 2 = 115 R0, 115 √∑ 2 = 57 R1, 57 √∑ 2 = 28 R1, 28 √∑ 2 = 14 R0, 14 √∑ 2 = 7 R0, 7 √∑ 2 = 3 R1, 3 √∑ 2 = 1 R1, 1 √∑ 2 = 0 R1. Reading remainders from bottom: 11100110‚ÇÇ" },
      { id: 2, category: "Number Systems", question: "Represent -18 in 8-bit two's complement.", options: ["11101101", "11101110", "11101111", "11110000"], correct: 1, explanation: "18 in binary: 00010010 ‚Üí invert: 11101101 ‚Üí add 1: 11101110" },
      { id: 3, category: "Number Systems", question: "What is 0x7F in decimal?", options: ["127", "126", "128", "255"], correct: 0, explanation: "0x7F = 7√ó16 + 15 = 112 + 15 = 127" },
      { id: 4, category: "Circuits", question: "A 12V battery feeds a 240Œ© resistor. Find current and power.", options: ["0.05A, 0.6W", "0.06A, 0.72W", "0.04A, 0.48W", "0.03A, 0.36W"], correct: 0, explanation: "I = V/R = 12/240 = 0.05A, P = V√óI = 12√ó0.05 = 0.6W" },
      { id: 5, category: "Circuits", question: "Find equivalent resistance of 150Œ© || 300Œ©.", options: ["100Œ©", "150Œ©", "200Œ©", "50Œ©"], correct: 0, explanation: "R_eq = (150√ó300)/(150+300) = 45000/450 = 100Œ©" },
      { id: 6, category: "Circuits", question: "Calculate power dissipated in a 100Œ© resistor with 0.5A current.", options: ["25W", "50W", "100W", "200W"], correct: 0, explanation: "P = I¬≤R = (0.5)¬≤ √ó 100 = 0.25 √ó 100 = 25W" },
      { id: 7, category: "Circuits", question: "Three 60Œ© resistors in parallel. What is the equivalent resistance?", options: ["20Œ©", "60Œ©", "180Œ©", "30Œ©"], correct: 0, explanation: "1/R_eq = 1/60 + 1/60 + 1/60 = 3/60 = 1/20 ‚Üí R_eq = 20Œ©" },
      { id: 8, category: "Circuits", question: "A circuit has 10V supply and draws 2A. What is the resistance?", options: ["5Œ©", "10Œ©", "20Œ©", "2Œ©"], correct: 0, explanation: "R = V/I = 10/2 = 5Œ©" },
      { id: 9, category: "Semiconductors", question: "What is the typical forward voltage drop for a silicon diode?", options: ["0.3V", "0.7V", "1.2V", "2.0V"], correct: 1, explanation: "Silicon diodes typically have a forward voltage drop of 0.6‚Äì0.7V" },
      { id: 10, category: "Semiconductors", question: "Which diode is designed to operate in reverse breakdown region?", options: ["LED", "Zener diode", "Schottky diode", "Varactor diode"], correct: 1, explanation: "Zener diodes are specifically designed to operate in the reverse breakdown region for voltage regulation" },
      { id: 11, category: "Semiconductors", question: "In an NPN transistor, the base-emitter junction is:", options: ["Reverse biased", "Forward biased", "Open", "Shorted"], correct: 1, explanation: "For an NPN transistor to operate in active mode, the base-emitter junction must be forward biased" },
      { id: 12, category: "Number Systems", question: "Convert 10110101‚ÇÇ to decimal.", options: ["181", "182", "183", "180"], correct: 0, explanation: "1√ó128 + 0√ó64 + 1√ó32 + 1√ó16 + 0√ó8 + 1√ó4 + 0√ó2 + 1√ó1 = 128+32+16+4+1 = 181" },
      { id: 13, category: "Number Systems", question: "What is the two's complement range for 8-bit numbers?", options: ["-127 to +128", "-128 to +127", "-256 to +255", "0 to 255"], correct: 1, explanation: "8-bit two's complement range is -128 to +127" },
      { id: 14, category: "Circuits", question: "Calculate voltage across a 50Œ© resistor with 0.1A current.", options: ["5V", "10V", "15V", "20V"], correct: 0, explanation: "V = I√óR = 0.1√ó50 = 5V" },
      { id: 15, category: "Circuits", question: "A 100W bulb operates at 230V. What is its resistance?", options: ["529Œ©", "629Œ©", "729Œ©", "829Œ©"], correct: 0, explanation: "P = V¬≤/R ‚Üí R = V¬≤/P = (230)¬≤/100 = 52900/100 = 529Œ©" },
      { id: 16, category: "Circuits", question: "Three 30Œ© resistors in series. What is the equivalent resistance?", options: ["30Œ©", "60Œ©", "90Œ©", "10Œ©"], correct: 2, explanation: "R_eq = R1 + R2 + R3 = 30 + 30 + 30 = 90Œ©" },
      { id: 17, category: "Semiconductors", question: "Which material is commonly used for making semiconductors?", options: ["Copper", "Silicon", "Aluminum", "Gold"], correct: 1, explanation: "Silicon is the most commonly used material for semiconductor devices" },
      { id: 18, category: "Semiconductors", question: "What is the main function of a rectifier diode?", options: ["Amplify signals", "Convert AC to DC", "Regulate voltage", "Store charge"], correct: 1, explanation: "Rectifier diodes are used to convert alternating current (AC) to direct current (DC)" },
      { id: 19, category: "Number Systems", question: "Convert 0xFF to decimal.", options: ["255", "256", "254", "253"], correct: 0, explanation: "0xFF = 15√ó16 + 15 = 240 + 15 = 255" },
      { id: 20, category: "Number Systems", question: "What is the binary equivalent of 0x2A?", options: ["00101010", "00101011", "00101100", "00101101"], correct: 0, explanation: "0x2A = 2√ó16 + 10 = 32 + 10 = 42 ‚Üí 42 in binary: 32+8+2 = 00101010" }
    ];

    // === User Progress ===
    let userProgress = {
      xp: 0,
      level: 1,
      nextLevelXP: 100,
      quizzesCompleted: 0,
      achievements: { firstQuiz: false, halfway: false, perfectScore: false, master: false },
      quizScores: {}
    };

    // === Load / Save ===
    function loadProgress() {
      const saved = localStorage.getItem('electroLearnProgress');
      if (saved) userProgress = JSON.parse(saved);
      if (localStorage.getItem('theme') === 'light') toggleTheme();
      updateProgressUI();
    }
    function saveProgress() { localStorage.setItem('electroLearnProgress', JSON.stringify(userProgress)); }

    // === UI ===
    function updateProgressUI() {
      document.getElementById('userXP').textContent = userProgress.xp;
      document.getElementById('userLevel').textContent = userProgress.level;
      document.getElementById('nextLevelXP').textContent = userProgress.nextLevelXP;
      document.getElementById('quizzesCompleted').textContent = userProgress.quizzesCompleted;
      document.getElementById('leaderboardXP').textContent = userProgress.xp + ' XP';

      const progressPercent = Math.min(100, (userProgress.xp / userProgress.nextLevelXP) * 100);
      const circumference = 226.194;
      const offset = circumference - (progressPercent / 100) * circumference;
      document.getElementById('progressCircle').style.strokeDashoffset = offset;

      if (userProgress.achievements.firstQuiz) document.getElementById('firstQuizBadge').style.display = 'inline-block';
      if (userProgress.achievements.halfway) document.getElementById('halfwayBadge').style.display = 'inline-block';
      if (userProgress.achievements.perfectScore) document.getElementById('perfectScoreBadge').style.display = 'inline-block';
      if (userProgress.achievements.master) document.getElementById('masterBadge').style.display = 'inline-block';
    }

    // === Notifications (visible & auto-dismiss) ===
    function showNotification(message, type = 'info') {
      const container = document.getElementById('notificationArea');
      const alert = document.createElement('div');
      alert.className = `alert alert-${type} alert-dismissible fade show`;
      alert.innerHTML = `${message} <button type="button" class="btn-close" data-bs-dismiss="alert"></button>`;
      container.appendChild(alert);
      setTimeout(() => {
        if (alert.parentNode) alert.remove();
      }, 5000);
    }

    function addXP(amount) {
      userProgress.xp += amount;
      if (userProgress.xp >= userProgress.nextLevelXP) {
        userProgress.level++;
        userProgress.nextLevelXP = Math.floor(userProgress.nextLevelXP * 1.5);
        showNotification(`Level Up! Level ${userProgress.level}`, 'success');
      }
      if (userProgress.quizzesCompleted >= 1 && !userProgress.achievements.firstQuiz) {
        userProgress.achievements.firstQuiz = true;
        showNotification('First Quiz Completed!', 'info');
      }
      if (userProgress.quizzesCompleted >= 10 && !userProgress.achievements.halfway) {
        userProgress.achievements.halfway = true;
        showNotification('Halfway There!', 'info');
      }
      if (userProgress.quizzesCompleted >= 20 && !userProgress.achievements.master) {
        userProgress.achievements.master = true;
        showNotification('Circuit Master!', 'info');
      }
      saveProgress();
      updateProgressUI();
    }

    // === Quizzes ===
    function renderQuizzes() {
      const container = document.getElementById('quizContainer');
      container.innerHTML = '';
      quizData.forEach(quiz => {
        const isDone = userProgress.quizScores[quiz.id];
        const div = document.createElement('div');
        div.className = 'col-md-6 col-lg-4';
        div.innerHTML = `
          <div class="quiz-card">
            <div class="d-flex justify-content-between">
              <span class="badge bg-primary">${quiz.category}</span>
              ${isDone ? '<span class="badge bg-success"><i class="fas fa-check"></i></span>' : ''}
            </div>
            <h6 class="mt-2">${quiz.question}</h6>
            <div id="options-${quiz.id}"></div>
            <div id="explanation-${quiz.id}" style="display:none" class="mt-2">
              <div class="alert alert-info small"><strong>Explanation:</strong> ${quiz.explanation}</div>
            </div>
          </div>
        `;
        container.appendChild(div);
        const opts = div.querySelector(`#options-${quiz.id}`);
        quiz.options.forEach((opt, i) => {
          const el = document.createElement('div');
          el.className = 'quiz-option';
          el.textContent = `${String.fromCharCode(65 + i)}) ${opt}`;
          el.onclick = () => checkAnswer(quiz.id, i);
          opts.appendChild(el);
        });
      });
    }

    function checkAnswer(quizId, idx) {
      const quiz = quizData.find(q => q.id === quizId);
      const opts = document.querySelectorAll(`#options-${quizId} .quiz-option`);
      const exp = document.getElementById(`explanation-${quizId}`);
      const first = !userProgress.quizScores[quizId];

      opts.forEach(el => el.classList.remove('correct', 'incorrect'));
      if (idx === quiz.correct) {
        opts[idx].classList.add('correct');
        if (first) {
          userProgress.quizzesCompleted++;
          userProgress.quizScores[quizId] = true;
          addXP(10);
          if (userProgress.quizzesCompleted === quizData.length && !userProgress.achievements.perfectScore) {
            userProgress.achievements.perfectScore = true;
            showNotification('Perfect Score! All quizzes done!', 'success');
          }
        }
        showNotification('Correct! +10 XP', 'success');
      } else {
        opts[idx].classList.add('incorrect');
        opts[quiz.correct].classList.add('correct');
        showNotification('Incorrect. Review explanation.', 'danger');
      }
      exp.style.display = 'block';
      saveProgress();
    }

    // === Tools ===
    function decConvert() {
      const n = parseInt(document.getElementById('dec').value) || 0;
      if (n < 0) { document.getElementById('dec').value = 0; return; }
      document.getElementById('decBin').textContent = n.toString(2);
      document.getElementById('decHex').textContent = n.toString(16).toUpperCase();
      document.getElementById('decOct').textContent = n.toString(8);
    }
    function clearConverter() { document.getElementById('dec').value = ''; decConvert(); }

    const cards = ['Binary: 128,64,32,16,8,4,2,1', 'Hex: 0‚Äì9, A‚ÄìF', '8-bit two\'s complement: -128 to +127', 'V = I¬∑R'];
    let cardIndex = 0;
    function nextCard() { document.getElementById('flash').textContent = cards[cardIndex]; cardIndex = (cardIndex + 1) % cards.length; }

    function calcSeriesParallel() {
      const V = parseFloat(document.getElementById('vSupply').value) || 0;
      const r1 = parseFloat(document.getElementById('r1').value) || 0;
      const r2 = parseFloat(document.getElementById('r2').value) || 0;
      const r3 = parseFloat(document.getElementById('r3').value) || 0;
      if (r2 + r3 === 0) { document.getElementById('spResult').textContent = 'Error: R2+R3=0'; return; }
      const r23 = (r2 * r3) / (r2 + r3);
      const req = r1 + r23;
      const I = V / req;
      document.getElementById('spResult').textContent = isFinite(I) ? `Req=${req.toFixed(1)}Œ©, I=${I.toFixed(3)}A` : 'Invalid';
    }

    function calcLed() {
      const Vsup = parseFloat(document.getElementById('ledVsup').value) || 0;
      const Vf = parseFloat(document.getElementById('ledVf').value) || 0;
      const If = parseFloat(document.getElementById('ledIf').value) || 1;
      if (Vsup <= Vf) { document.getElementById('ledResult').textContent = 'V<sub>sup</sub> > V<sub>f</sub>'; return; }
      const R = (Vsup - Vf) / (If / 1000);
      document.getElementById('ledResult').textContent = isFinite(R) ? Math.round(R) + ' Œ©' : 'Invalid';
    }

    function checkBinary() {
      const b = document.getElementById('bq').value.trim();
      if (!/^[01]+$/.test(b)) { showNotification('Binary only (0/1)', 'warning'); return; }
      document.getElementById('bqAns').textContent = parseInt(b, 2);
    }

    // === Theme ===
    function toggleTheme() {
      const isDark = getComputedStyle(document.body).getPropertyValue('--futuristic-bg').trim() === '#0a0e17';
      if (isDark) {
        document.body.style.setProperty('--futuristic-bg', '#f8f9fa');
        document.body.style.setProperty('--futuristic-card', '#ffffff');
        document.body.style.setProperty('--futuristic-accent', '#0d6efd');
        document.body.style.setProperty('--futuristic-secondary', '#6f42c1');
        document.body.style.color = '#212529';
        document.querySelectorAll('h1,h2,h3,h4,h5,h6').forEach(el => el.style.color = '#212529');
        document.getElementById('themeToggle').innerHTML = '<i class="fas fa-sun"></i>';
        localStorage.setItem('theme', 'light');
      } else {
        document.body.style.setProperty('--futuristic-bg', '#0a0e17');
        document.body.style.setProperty('--futuristic-card', '#131a2d');
        document.body.style.setProperty('--futuristic-accent', '#00d4ff');
        document.body.style.setProperty('--futuristic-secondary', '#7e57c2');
        document.body.style.color = '#e9ecef';
        document.querySelectorAll('h1,h2,h3,h4,h5,h6').forEach(el => el.style.color = '#fff');
        document.getElementById('themeToggle').innerHTML = '<i class="fas fa-moon"></i>';
        localStorage.setItem('theme', 'dark');
      }
    }

    // === Init ===
    document.addEventListener('DOMContentLoaded', () => {
      loadProgress();
      renderQuizzes();
      nextCard();

      // Bind buttons
      document.getElementById('decConvertBtn').addEventListener('click', decConvert);
      document.getElementById('clearConverterBtn').addEventListener('click', clearConverter);
      document.getElementById('nextCardBtn').addEventListener('click', nextCard);
      document.getElementById('calcSeriesParallelBtn').addEventListener('click', calcSeriesParallel);
      document.getElementById('calcLedBtn').addEventListener('click', calcLed);
      document.getElementById('checkBinaryBtn').addEventListener('click', checkBinary);
      document.getElementById('printBtn').addEventListener('click', () => window.print());
      document.getElementById('toggleCompact').addEventListener('click', () => document.body.classList.toggle('compact'));
      document.getElementById('themeToggle').addEventListener('click', toggleTheme);
    });
  </script>
</body>
</html>
